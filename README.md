# üõ∞Ô∏è EuroSAT Satellite Image Classifier

<div align="center">

![Python](https://img.shields.io/badge/python-v3.8+-blue.svg)
![TensorFlow](https://img.shields.io/badge/TensorFlow-2.10+-FF6F00.svg)
![FastAPI](https://img.shields.io/badge/FastAPI-0.95+-009688.svg)
![Streamlit](https://img.shields.io/badge/Streamlit-1.21+-FF4B4B.svg)

<h3>üåç –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–ø—É—Ç–Ω–∏–∫–æ–≤—ã—Ö —Å–Ω–∏–º–∫–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–æ–≤ –≥–ª—É–±–æ–∫–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è</h3>

[üöÄ –î–µ–º–æ](https://eurosatapp.streamlit.app/) ‚Ä¢ [API Docs](#-api) ‚Ä¢ [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞) ‚Ä¢ [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)

</div>

---

## üöÄ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—ã–ª–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –Ω–∞ –∑–∞–Ω—è—Ç–∏–∏ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ –æ–Ω–ª–∞–π–Ω.** –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é —Å–ø—É—Ç–Ω–∏–∫–æ–≤—ã—Ö —Å–Ω–∏–º–∫–æ–≤ –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

<div align="center">
  
### [üåê –û—Ç–∫—Ä—ã—Ç—å EuroSAT Classifier](https://eurosatapp.streamlit.app/)

</div>

–ü—Ä–æ—Å—Ç–æ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–ø—É—Ç–Ω–∏–∫–æ–≤—ã–π —Å–Ω–∏–º–æ–∫ –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥. 

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
- üì∏ RGB –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (JPG, PNG)
- üõ∞Ô∏è –ú—É–ª—å—Ç–∏—Å–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã–µ —Å–Ω–∏–º–∫–∏ (GeoTIFF)
- üì• –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö

> **‚ö†Ô∏è –í–∞–∂–Ω–æ:** –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–∏—Å–µ Render.com —Å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º —Ç–∞—Ä–∏—Ñ–Ω—ã–º –ø–ª–∞–Ω–æ–º. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –≤–æ–∑–º–æ–∂–µ–Ω —Ö–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç (–¥–æ 120 —Å–µ–∫—É–Ω–¥). –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö —Ä–∞—Å—Ç—Ä–æ–≤ –º–æ–∂–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –æ—à–∏–±–∫–æ–π –∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Ä–µ—Å—É—Ä—Å–æ–≤. –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ –Ω–∞ –±–æ–ª–µ–µ –º–æ—â–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ.

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

<table>
<tr>
<td width="50%">

### üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- **10 –∫–ª–∞—Å—Å–æ–≤ –∑–µ–º–Ω–æ–≥–æ –ø–æ–∫—Ä–æ–≤–∞** —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 94%
- **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å –º—É–ª—å—Ç–∏—Å–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã–º–∏ —Å–Ω–∏–º–∫–∞–º–∏**
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –Ω–∞ Streamlit
- **REST API** –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ –±–∞—Ç—á–∞–º** –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
- **–≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö

</td>
<td width="50%">

### üé® –ö–ª–∞—Å—Å—ã –∑–µ–º–Ω–æ–≥–æ –ø–æ–∫—Ä–æ–≤–∞

| –ö–ª–∞—Å—Å | –¶–≤–µ—Ç | –ù–∞–∑–≤–∞–Ω–∏–µ |
|-------|------|----------|
| üåæ –ü–æ—Å–µ–≤—ã | ![#FFFF00](https://placehold.co/15x15/FFFF00/FFFF00.png) | AnnualCrop |
| üå≤ –õ–µ—Å | ![#228B22](https://placehold.co/15x15/228B22/228B22.png) | Forest |
| üåø –¢—Ä–∞–≤—ã | ![#7CFC00](https://placehold.co/15x15/7CFC00/7CFC00.png) | HerbaceousVegetation |
| üõ£Ô∏è –î–æ—Ä–æ–≥–∏ | ![#808080](https://placehold.co/15x15/808080/808080.png) | Highway |
| üè≠ –ü—Ä–æ–º–∑–æ–Ω—ã | ![#8B4513](https://placehold.co/15x15/8B4513/8B4513.png) | Industrial |
| üêÑ –ü–∞—Å—Ç–±–∏—â–∞ | ![#98FB98](https://placehold.co/15x15/98FB98/98FB98.png) | Pasture |
| üçá –ú–Ω–æ–≥–æ–ª–µ—Ç–Ω–∏–µ | ![#FF8C00](https://placehold.co/15x15/FF8C00/FF8C00.png) | PermanentCrop |
| üèòÔ∏è –ñ–∏–ª—ã–µ | ![#FF0000](https://placehold.co/15x15/FF0000/FF0000.png) | Residential |
| üèûÔ∏è –†–µ–∫–∏ | ![#0000FF](https://placehold.co/15x15/0000FF/0000FF.png) | River |
| üåä –í–æ–¥–æ—ë–º—ã | ![#00BFFF](https://placehold.co/15x15/00BFFF/00BFFF.png) | SeaLake |

</td>
</tr>
</table>

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```mermaid
graph TB
    A[üñºÔ∏è –°–ø—É—Ç–Ω–∏–∫–æ–≤—ã–π —Å–Ω–∏–º–æ–∫] --> B[üì§ Upload]
    B --> C{–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–Ω–∞–ª–æ–≤}
    C -->|RGB| D[FastAPI Backend]
    C -->|–ú—É–ª—å—Ç–∏—Å–ø–µ–∫—Ç—Ä| E[–í—ã–±–æ—Ä –∫–∞–Ω–∞–ª–æ–≤]
    E --> D
    D --> F[üß† TensorFlow Model]
    F --> G[–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è]
    G --> H[üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã]
    H --> I[PNG –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è]
    H --> J[GeoTIFF]
    H --> K[GeoJSON]
    
    style A fill:#e1f5fe
    style F fill:#fff3e0
    style H fill:#e8f5e9
```

## üíª –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- 4GB RAM –º–∏–Ω–∏–º—É–º

### üîß –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

#### 1Ô∏è‚É£ –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

```bash
# –î–ª—è conda (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
conda create -n eurosat python=3.9
conda activate eurosat

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ venv
python -m venv venv
source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate  # Windows
```

#### 2Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python –ø–∞–∫–µ—Ç—ã

```bash
pip install -r requirements.txt
```

#### 3Ô∏è‚É£ –°–∫–∞—á–∞–π—Ç–µ –º–æ–¥–µ–ª—å

```bash
mkdir models
# –°–∫–∞—á–∞–π—Ç–µ –º–æ–¥–µ–ª—å –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –≤ –ø–∞–ø–∫—É models/
```

## üöÄ –ó–∞–ø—É—Å–∫

### üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ó–∞–ø—É—Å–∫ backend
uvicorn main:app --reload --host 0.0.0.0 --port 8000

# –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - –∑–∞–ø—É—Å–∫ frontend
streamlit run app.py
```

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:
- üé® **Frontend**: http://localhost:8501
- üìö **API Docs**: http://localhost:8000/docs

### ‚òÅÔ∏è –î–µ–ø–ª–æ–π –Ω–∞ Render.com

1. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ [Render.com](https://render.com)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Web Service
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ:
   - **Environment**: Python 3
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `uvicorn main:app --host 0.0.0.0 --port $PORT`
5. –î–æ–±–∞–≤—å—Ç–µ environment variables –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
6. Deploy!

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### üåê –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ**
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è: GeoTIFF, TIFF, JPG, PNG
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 200MB

2. **–î–ª—è –º—É–ª—å—Ç–∏—Å–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã—Ö —Å–Ω–∏–º–∫–æ–≤**
   - –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–Ω–∞–ª—ã –¥–ª—è RGB –∫–æ–º–ø–æ–∑–∏—Ç–∞
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ—Å–µ—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, 4-3-2 –¥–ª—è Landsat)

3. **–ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ**
   - –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å"
   - –î–æ–∂–¥–∏—Ç–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (2-10 —Å–µ–∫)

4. **–°–∫–∞—á–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**
   - PNG –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
   - GeoTIFF —Å –∫–∞—Ä—Ç–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - GeoJSON —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º–∏ –ø–æ–ª–∏–≥–æ–Ω–∞–º–∏

### üîå API

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```bash
curl http://localhost:8000/health
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–∞–Ω–∞–ª–æ–≤
```python
import requests

with open("image.tif", "rb") as f:
    response = requests.post(
        "http://localhost:8000/check_channels/",
        files={"file": f}
    )
    print(response.json())  # {"channels": 4}
```

#### –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
```python
# –ü—Ä–æ—Å—Ç–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
with open("image.tif", "rb") as f:
    response = requests.post(
        "http://localhost:8000/classify_all/",
        files={"file": f},
        params={"channels": "4,3,2"}  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
    )
    results = response.json()

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
import base64

# PNG –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
with open("result.png", "wb") as f:
    f.write(base64.b64decode(results["visualization"]))

# GeoTIFF
with open("result.tif", "wb") as f:
    f.write(base64.b64decode(results["geotiff"]))

# GeoJSON
with open("result.geojson", "w") as f:
    f.write(results["geojson"])
```


## üõ†Ô∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏

```python
# –í classifier.py
patch_size = 64      # –†–∞–∑–º–µ—Ä –ø–∞—Ç—á–∞ –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
batch_size = 64      # –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```python
# –£–≤–µ–ª–∏—á—å—Ç–µ batch_size –¥–ª—è GPU
classifier = EuroSATClassifier(
    MODEL_PATH, 
    patch_size=64, 
    batch_size=128  # –î–ª—è GPU
)
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
üìÇ eurosat-classifier/
‚îú‚îÄ‚îÄ üìÑ app.py                 # Streamlit –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ üìÑ main.py                # FastAPI —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ üìÑ classifier.py          # –õ–æ–≥–∏–∫–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ üìÑ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ üìÅ models/               
‚îÇ   ‚îî‚îÄ‚îÄ üß† best_eurosat_model.h5
```


## üîê API Endpoints

| Endpoint | Method | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|--------|----------|
| `/health` | GET | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ |
| `/classes` | GET | –°–ø–∏—Å–æ–∫ –∫–ª–∞—Å—Å–æ–≤ –∏ —Ü–≤–µ—Ç–æ–≤ |
| `/check_channels/` | POST | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–∞–Ω–∞–ª–æ–≤ |
| `/get_preview/` | POST | –°–æ–∑–¥–∞–Ω–∏–µ RGB –ø—Ä–µ–≤—å—é |
| `/classify_all/` | POST | –ü–æ–ª–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è |
| `/docs` | GET | Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏

- –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–æ —á–∞—Å—Ç—è–º

### ‚ùå –ú–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `best_eurosat_model.h5` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ `models/`

